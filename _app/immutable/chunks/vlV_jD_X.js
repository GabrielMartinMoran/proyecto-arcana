import{m as d}from"./DZAtAn7e.js";import{l as m}from"./BQL_5efD.js";import{m as A,a as y}from"./DpY7wP4R.js";import{r as $}from"./CShI_x2V.js";const i=async t=>await(await fetch($(t))).text(),o=(t,s)=>s?`${t} (${s})`:`${t}`,M=t=>t.map(s=>`${s.name} +${s.bonus} ${s.damage}${s.note?` (${s.note})`:""}`).join("; "),r=t=>t.map(s=>`${s.name}${s.uses?` [${h(s.uses)}]`:""}: ${s.detail}`).join("; "),S=t=>t.replace(/\|/g,"\\|").replace(/\n/g," "),l=["Nombre","Linaje","Rango","Cuerpo","Reflejos","Mente","Instinto","Presencia","Salud","Esquiva","Mitigación Física","Mitigación Mágica","Velocidad","Iniciativa","Lenguas","Ataques","Rasgos","Acciones","Reacciones","Interacciones","Comportamiento"],b=t=>`| ${[t.name,t.lineage,t.tier.toString(),t.attributes.body.toString(),t.attributes.reflexes.toString(),t.attributes.mind.toString(),t.attributes.instinct.toString(),t.attributes.presence.toString(),t.stats.maxHealth.toString(),o(t.stats.evasion.value,t.stats.evasion.note),o(t.stats.physicalMitigation.value,t.stats.physicalMitigation.note),o(t.stats.magicalMitigation.value,t.stats.magicalMitigation.note),o(t.stats.speed.value,t.stats.speed.note),t.attributes.reflexes.toString(),t.languages.length>0?t.languages.join(", "):"Ninguna",t.attacks.length>0?M(t.attacks):"—",t.traits.length>0?t.traits.map(a=>`${a.name}: ${a.detail}`).join("; "):"—",t.actions.length>0?r(t.actions):"—",t.reactions.length>0?r(t.reactions):"—",t.interactions.length>0?r(t.interactions):"—",t.behavior??"—"].map(S).join(" | ")} |`,f=t=>{const s=`| **${l.join("** | **")}** |`,a=`| ${l.map(()=>"---").join(" | ")} |`,n=t.map(b);return`${s}
${a}
${n.join(`
`)}`},h=t=>{switch(t?.type){case"RELOAD":return`${t.qty} [Recarga ${t.qty}+]`;case"USES":return`${t.qty}`;case"LONG_REST":case"DAY":return`${t.qty} por día`;default:return""}},u="/docs/bestiary.yml",v=async()=>{const t=await i(u);let s=[];try{s=m(t).creatures??[]}catch(n){console.error("Error parsing YAML:",n)}const a=s.map(n=>d(n));return f(a)},C=t=>{if(!t||!t.type)return"N/A";switch(t.type){case"LONG_REST":return`${t.qty??"—"} por día de descanso`;case"RELOAD":return`1 (Recarga ${t.qty??"—"}+)`;case"USES":return`${t.qty??"—"}`;case"DAY":return"1 por día";default:return"—"}},L=t=>{const s=[t.name,t.level.toString(),t.type,t.description,t.tags?t.tags.join(", "):"—",t.requirements??"—",C(t.uses)];return t.cardType==="item"&&s.push(t.cost.toString()),`| ${s.map(a=>a.replace(/\|/g,"\\|")).join(" | ")} |`},E=t=>{const s=["Nombre","Nivel","Tipo","Descripción","Etiquetas","Requerimientos","Usos"];t.length>0&&t[0].cardType==="item"&&s.push("Costo (oro)");const a=`| ${s.map(()=>"---").join(" | ")} |`,n=t.map(L);return`| **${s.join("** | **")}** |
${a}
${n.join(`
`)}`},T="/docs/cards.yml",w="/docs/magical-items.yml",p=async(t,s,a)=>{const n=await i(t);let c=[];try{c=m(n)[a]??[]}catch(e){console.error("Error parsing YAML:",e)}const g=c.map(e=>s(e));return E(g)},N=async()=>await p(T,A,"cards"),P=async()=>await p(w,y,"items"),R="/docs/gm.md",U=async()=>await i(R),_="/docs/player.md",F=async()=>await i(_);export{F as a,U as b,v as c,N as d,P as e,i as l};
