import{t as d}from"./C4I9UOu2.js";import{l as s,_ as h,af as m,u as _,i as g,w as u,ag as w}from"./N-XTxjeP.js";function N(a,l,t,v,r,e){var i=a.__className;if(s||i!==t||i===void 0){var f=d(t,v,e);(!s||f!==a.getAttribute("class"))&&(f==null?a.removeAttribute("class"):a.className=f),a.__className=t}else if(e&&r!==e)for(var n in e){var b=!!e[n];(r==null||b!==!!r[n])&&a.classList.toggle(n,b)}return e}function S(a,l,t=l){var v=new WeakSet;h(a,"input",async r=>{var e=r?a.defaultValue:a.value;if(e=c(a)?o(e):e,t(e),u!==null&&v.add(u),await m(),e!==(e=l())){var i=a.selectionStart,f=a.selectionEnd;a.value=e??"",f!==null&&(a.selectionStart=i,a.selectionEnd=Math.min(f,a.value.length))}}),(s&&a.defaultValue!==a.value||_(l)==null&&a.value)&&(t(c(a)?o(a.value):a.value),u!==null&&v.add(u)),g(()=>{var r=l();if(a===document.activeElement){var e=w??u;if(v.has(e))return}c(a)&&r===o(a.value)||a.type==="date"&&!r&&!a.value||r!==a.value&&(a.value=r??"")})}function c(a){var l=a.type;return l==="number"||l==="range"}function o(a){return a===""?null:+a}export{S as b,N as s};
