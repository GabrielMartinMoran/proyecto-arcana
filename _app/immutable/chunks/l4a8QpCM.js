import{n as x,l as b,m as D,E as F,ah as R,ai as U,aj as j,X as w,ak as T,o as C,v as N,w as L,al as O,x as q,am as z,z as H,y as M,an as k,ad as P,F as X,j as Y,a2 as Z,ao as $}from"./N-XTxjeP.js";import{s as B,g as G}from"./BgrDxZTx.js";function Q(e,s,r=!1){b&&D();var a=e,n=null,t=null,i=O,I=r?F:0,c=!1;const A=(l,u=!0)=>{c=!0,m(u,l)};var f=null;function p(){f!==null&&(f.lastChild.remove(),a.before(f),f=null);var l=i?n:t,u=i?t:n;l&&z(l),u&&H(u,()=>{i?t=null:n=null})}const m=(l,u)=>{if(i===(i=l))return;let h=!1;if(b){const S=R(a)===U;!!i===S&&(a=j(),w(a),T(!1),h=!0)}var g=q(),_=a;if(g&&(f=document.createDocumentFragment(),f.append(_=C())),i?n??=u&&N(()=>u(_)):t??=u&&N(()=>u(_)),g){var d=L,y=i?n:t,E=i?t:n;y&&d.skipped_effects.delete(y),E&&d.skipped_effects.add(E),d.add_callback(p)}else p();h&&T(!0)};x(()=>{c=!1,s(A),c||m(null,null)},I),b&&(a=M)}let o=!1,v=Symbol();function V(e,s,r){const a=r[s]??={store:null,source:P(void 0),unsubscribe:k};if(a.store!==e&&!(v in r))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=k;else{var n=!0;a.unsubscribe=B(e,t=>{n?a.source.v=t:X(a.source,t)}),n=!1}return e&&v in r?G(e):Y(a.source)}function W(){const e={};function s(){Z(()=>{for(var r in e)e[r].unsubscribe();$(e,v,{enumerable:!1,value:!0})})}return[e,s]}function ee(e,s,r){return e.set(r),s}function ae(e){var s=o;try{return o=!1,[e(),o]}finally{o=s}}export{V as a,ee as b,ae as c,Q as i,W as s};
