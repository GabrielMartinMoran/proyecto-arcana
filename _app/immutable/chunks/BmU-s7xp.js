import{t as b}from"./BDY9aIh_.js";import{l as s,A as h,ac as m,u as _,i as g,w as u,ad as w}from"./t0Cq7XZL.js";function E(a,l,t,v,r,e){var i=a.__className;if(s||i!==t||i===void 0){var f=b(t,v,e);(!s||f!==a.getAttribute("class"))&&(f==null?a.removeAttribute("class"):a.className=f),a.__className=t}else if(e&&r!==e)for(var c in e){var d=!!e[c];(r==null||d!==!!r[c])&&a.classList.toggle(c,d)}return e}function N(a,l,t=l){var v=new WeakSet;h(a,"input",async r=>{var e=r?a.defaultValue:a.value;if(e=n(a)?o(e):e,t(e),u!==null&&v.add(u),await m(),e!==(e=l())){var i=a.selectionStart,f=a.selectionEnd;a.value=e??"",f!==null&&(a.selectionStart=i,a.selectionEnd=Math.min(f,a.value.length))}}),(s&&a.defaultValue!==a.value||_(l)==null&&a.value)&&(t(n(a)?o(a.value):a.value),u!==null&&v.add(u)),g(()=>{var r=l();if(a===document.activeElement){var e=w??u;if(v.has(e))return}n(a)&&r===o(a.value)||a.type==="date"&&!r&&!a.value||r!==a.value&&(a.value=r??"")})}function n(a){var l=a.type;return l==="number"||l==="range"}function o(a){return a===""?null:+a}export{N as b,E as s};
